# Kimono AI å®¢æœç³»ç»Ÿ - ä½¿ç”¨è¯´æ˜

> ç‰ˆæœ¬ï¼š1.3
> æ›´æ–°æ—¥æœŸï¼š2024-12ï¼ˆæ–°å¢å¯è§†åŒ–è¿ç»´ä¸­å¿ƒï¼‰
> æœåŠ¡åœ°å€ï¼šhttp://139.162.121.203:8080

---

## ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#1-ç³»ç»Ÿæ¦‚è¿°)
2. [è¿ç»´ç«¯ä½¿ç”¨è¯´æ˜](#2-è¿ç»´ç«¯ä½¿ç”¨è¯´æ˜)
3. [ç®¡ç†ç«¯ä½¿ç”¨è¯´æ˜](#3-ç®¡ç†ç«¯ä½¿ç”¨è¯´æ˜)
4. [å®¢æœäººå‘˜ç«¯ä½¿ç”¨è¯´æ˜](#4-å®¢æœäººå‘˜ç«¯ä½¿ç”¨è¯´æ˜)
5. [API æ¥å£æ–‡æ¡£](#5-api-æ¥å£æ–‡æ¡£)
6. [å¸¸è§é—®é¢˜](#6-å¸¸è§é—®é¢˜)

---

## 1. ç³»ç»Ÿæ¦‚è¿°

### 1.1 ç³»ç»Ÿç®€ä»‹

Kimono AI å®¢æœç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„å¤šç§Ÿæˆ·å®¢æœè§£å†³æ–¹æ¡ˆï¼Œä¸“ä¸ºå’Œæœç§Ÿèµè¡Œä¸šè®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯ï¼Œç»“åˆé˜¿é‡Œäº‘ Qwen å¤§è¯­è¨€æ¨¡å‹å’Œ Pinecone å‘é‡æ•°æ®åº“ï¼Œæä¾›æ™ºèƒ½ã€å‡†ç¡®çš„å®¢æœå›ç­”ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | è¯´æ˜ |
|---------|------|
| æ™ºèƒ½é—®ç­” | åŸºäºçŸ¥è¯†åº“çš„ AI è‡ªåŠ¨å›ç­”ï¼Œæ”¯æŒä¸­æ—¥è‹±ä¸‰è¯­ |
| å¤šç§Ÿæˆ·éš”ç¦» | æ¯ä¸ªå•†å®¶æ‹¥æœ‰ç‹¬ç«‹çš„è¯­æ–™åº“å’Œæ•°æ® |
| è¯­æ–™å­¦ä¹  | é€šè¿‡å®¢æœåé¦ˆæŒç»­ä¼˜åŒ– AI å›ç­”è´¨é‡ |
| é€šç”¨æ¨¡æ¿ | æ–°å•†å®¶å¯å¿«é€Ÿå¤åˆ¶é€šç”¨è¯­æ–™å¯åŠ¨æœåŠ¡ |
| è¯­æ–™ç®¡ç† | ç®¡ç†å‘˜å¯æŸ¥çœ‹ã€ç¼–è¾‘ã€å®¡æ ¸è¯­æ–™ |
| ç”¨æˆ·ç®¡ç† | ç®¡ç†å‘˜å¯æ·»åŠ ã€ç¼–è¾‘ã€ç¦ç”¨å®¢æœè´¦æˆ· |

### 1.3 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·è®¿é—®å±‚                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚   å®¢æœå·¥ä½œå°  â”‚  â”‚  ç®¡ç†åå°   â”‚  â”‚   API è°ƒç”¨   â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                â”‚                â”‚
           â–¼                â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Nginx åå‘ä»£ç† (8080)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI åº”ç”¨ (8000)                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚  è®¤è¯æ¨¡å—    â”‚  â”‚  å¯¹è¯æ¨¡å—   â”‚  â”‚  å­¦ä¹ æ¨¡å—    â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SQLite       â”‚  â”‚    Pinecone     â”‚  â”‚   DashScope     â”‚
â”‚   (ä¸šåŠ¡æ•°æ®)     â”‚  â”‚   (å‘é‡æ•°æ®åº“)   â”‚  â”‚   (Qwen LLM)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.4 è´¦å·ä½“ç³»

```
å¹³å°ç®¡ç†å‘˜ (admin)
    â”‚
    â”œâ”€â”€ å•†å®¶ A (tenant)
    â”‚   â”œâ”€â”€ ç®¡ç†å‘˜ (tenant_admin) - å¯ç®¡ç†è¯­æ–™
    â”‚   â”œâ”€â”€ å®¢æœ 1 (staff)
    â”‚   â””â”€â”€ å®¢æœ 2 (staff)
    â”‚
    â””â”€â”€ å•†å®¶ B (tenant)
        â”œâ”€â”€ ç®¡ç†å‘˜ (tenant_admin)
        â””â”€â”€ å®¢æœ 1 (staff)
```

---

## 2. è¿ç»´ç«¯ä½¿ç”¨è¯´æ˜

### 2.1 æœåŠ¡å™¨ä¿¡æ¯

#### 2.1.1 VPS åŸºæœ¬ä¿¡æ¯

| å­—æ®µ | å€¼ |
|------|-----|
| IP åœ°å€ | 139.162.121.203 |
| SSH ç”¨æˆ·å | root |
| SSH ç«¯å£ | 22 |
| SSH å¯†ç  | d6457db8bc8646fc |
| æœåŠ¡å•† | Linode |
| åŒºåŸŸ | ap-northeast (ä¸œäº¬) |
| çŠ¶æ€ | active |
| å®ä¾‹ ID | 65ebd686-97ba-4f88-b8c1-304594e8f0ad |

#### 2.1.2 SSH è¿æ¥

```bash
# SSH è¿æ¥å‘½ä»¤
ssh root@139.162.121.203 -p 22
# å¯†ç : d6457db8bc8646fc

# ä½¿ç”¨ sshpass è‡ªåŠ¨ç™»å½•ï¼ˆéœ€å…ˆå®‰è£… sshpassï¼‰
sshpass -p 'd6457db8bc8646fc' ssh root@139.162.121.203
```

#### 2.1.3 æœåŠ¡ç«¯å£

| ç«¯å£ | ç”¨é€” |
|------|-----|
| 22 | SSH è¿œç¨‹ç™»å½• |
| 8080 | HTTP æœåŠ¡ï¼ˆNginx åå‘ä»£ç†ï¼‰ |
| 8000 | å†…éƒ¨ API ç«¯å£ï¼ˆFastAPIï¼‰ |

#### 2.1.4 ç³»ç»Ÿç¯å¢ƒ

| é¡¹ç›® | å€¼ |
|------|-----|
| æ“ä½œç³»ç»Ÿ | Ubuntu 20.04 LTS |
| Python ç‰ˆæœ¬ | 3.9.5 |

### 2.2 ç›®å½•ç»“æ„

```
/opt/kimono-ai/                 # åº”ç”¨æ ¹ç›®å½•
â”œâ”€â”€ src/                        # æºä»£ç 
â”‚   â”œâ”€â”€ api/                    # API è·¯ç”±
â”‚   â”œâ”€â”€ database/               # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ knowledge/              # çŸ¥è¯†åº“æ¨¡å—
â”‚   â”œâ”€â”€ learning/               # å­¦ä¹ æ¨¡å—
â”‚   â”œâ”€â”€ rag/                    # RAG æ¨¡å—
â”‚   â””â”€â”€ static/                 # å‰ç«¯é™æ€æ–‡ä»¶
â”œâ”€â”€ data/                       # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ kimono_ai.db           # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ templates/              # é€šç”¨æ¨¡æ¿è¯­æ–™
â”œâ”€â”€ deploy/                     # éƒ¨ç½²é…ç½®
â”œâ”€â”€ venv/                       # Python è™šæ‹Ÿç¯å¢ƒ
â”œâ”€â”€ .env                        # ç¯å¢ƒé…ç½®
â””â”€â”€ requirements.txt            # ä¾èµ–åˆ—è¡¨

/var/log/kimono-ai/             # æ—¥å¿—ç›®å½•
â”œâ”€â”€ app.log                     # åº”ç”¨æ—¥å¿—
â””â”€â”€ error.log                   # é”™è¯¯æ—¥å¿—

/etc/systemd/system/
â””â”€â”€ kimono-ai.service           # Systemd æœåŠ¡é…ç½®

/etc/nginx/sites-available/
â””â”€â”€ kimono-ai.conf              # Nginx é…ç½®
```

### 2.3 æœåŠ¡ç®¡ç†å‘½ä»¤

#### 2.3.1 Systemd æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status kimono-ai

# å¯åŠ¨æœåŠ¡
systemctl start kimono-ai

# åœæ­¢æœåŠ¡
systemctl stop kimono-ai

# é‡å¯æœåŠ¡
systemctl restart kimono-ai

# å¼€æœºè‡ªå¯åŠ¨
systemctl enable kimono-ai

# ç¦ç”¨å¼€æœºè‡ªå¯åŠ¨
systemctl disable kimono-ai

# é‡æ–°åŠ è½½æœåŠ¡é…ç½®
systemctl daemon-reload
```

#### 2.3.2 æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—ï¼ˆå®æ—¶ï¼‰
tail -f /var/log/kimono-ai/app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f /var/log/kimono-ai/error.log

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œæ—¥å¿—
tail -n 100 /var/log/kimono-ai/app.log

# æœç´¢ç‰¹å®šé”™è¯¯
grep "ERROR" /var/log/kimono-ai/error.log

# æŸ¥çœ‹ Nginx è®¿é—®æ—¥å¿—
tail -f /var/log/nginx/kimono-ai.access.log

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/kimono-ai.error.log

# ä½¿ç”¨ journalctl æŸ¥çœ‹æœåŠ¡æ—¥å¿—
journalctl -u kimono-ai -f
journalctl -u kimono-ai --since "1 hour ago"
```

#### 2.3.3 Nginx ç®¡ç†

```bash
# æµ‹è¯• Nginx é…ç½®
nginx -t

# é‡æ–°åŠ è½½ Nginx é…ç½®
systemctl reload nginx

# é‡å¯ Nginx
systemctl restart nginx

# æŸ¥çœ‹ Nginx çŠ¶æ€
systemctl status nginx
```

### 2.4 é…ç½®æ–‡ä»¶è¯´æ˜

#### 2.4.1 ç¯å¢ƒé…ç½®æ–‡ä»¶ (.env)

```bash
# ä½ç½®: /opt/kimono-ai/.env

# DashScope API (Qwen æ¨¡å‹)
DASHSCOPE_API_KEY=sk-xxxxxxxx

# Pinecone å‘é‡æ•°æ®åº“
PINECONE_API_KEY=pcsk_xxxxxxxx
PINECONE_INDEX=kimono-faq-index
PINECONE_ENVIRONMENT=us-east-1

# æ¨¡å‹é…ç½®
QWEN_PRIMARY_MODEL=qwen-plus      # ä¸»æ¨¡å‹ï¼ˆ80%æŸ¥è¯¢ï¼‰
QWEN_ADVANCED_MODEL=qwen-max      # é«˜çº§æ¨¡å‹ï¼ˆå¤æ‚æŸ¥è¯¢ï¼‰

# æœåŠ¡é…ç½®
API_HOST=127.0.0.1
API_PORT=8000
DEBUG=false

# JWT è®¤è¯
JWT_SECRET_KEY=your-secret-key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24å°æ—¶
```

#### 2.4.2 Systemd æœåŠ¡é…ç½®

```ini
# ä½ç½®: /etc/systemd/system/kimono-ai.service

[Unit]
Description=Kimono AI Customer Service
After=network.target

[Service]
Type=simple
User=www-data
Group=www-data
WorkingDirectory=/opt/kimono-ai
Environment="PATH=/opt/kimono-ai/venv/bin"
ExecStart=/opt/kimono-ai/venv/bin/uvicorn src.api.main:app --host 127.0.0.1 --port 8000
Restart=always
RestartSec=5
StandardOutput=append:/var/log/kimono-ai/app.log
StandardError=append:/var/log/kimono-ai/error.log

[Install]
WantedBy=multi-user.target
```

#### 2.4.3 Nginx é…ç½®

```nginx
# ä½ç½®: /etc/nginx/sites-available/kimono-ai.conf

server {
    listen 8080;
    server_name _;

    # é™æ€æ–‡ä»¶
    location /static/ {
        alias /opt/kimono-ai/src/static/;
        expires 1d;
    }

    # API åå‘ä»£ç†
    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_read_timeout 300s;
    }
}
```

### 2.5 æ•°æ®åº“ç®¡ç†

#### 2.5.1 SQLite æ•°æ®åº“

```bash
# æ•°æ®åº“ä½ç½®
/opt/kimono-ai/data/kimono_ai.db

# å¤‡ä»½æ•°æ®åº“
cp /opt/kimono-ai/data/kimono_ai.db /backup/kimono_ai_$(date +%Y%m%d).db

# ä½¿ç”¨ sqlite3 æŸ¥çœ‹æ•°æ®
sqlite3 /opt/kimono-ai/data/kimono_ai.db

# å¸¸ç”¨ SQL å‘½ä»¤
.tables                          # æŸ¥çœ‹æ‰€æœ‰è¡¨
.schema tenants                  # æŸ¥çœ‹è¡¨ç»“æ„
SELECT COUNT(*) FROM users;      # ç»Ÿè®¡ç”¨æˆ·æ•°
SELECT * FROM tenants;           # æŸ¥çœ‹æ‰€æœ‰å•†å®¶
.quit                            # é€€å‡º
```

#### 2.5.2 æ•°æ®åº“è¡¨ç»“æ„

| è¡¨å | è¯´æ˜ |
|------|------|
| tenants | å•†å®¶ä¿¡æ¯ |
| users | ç”¨æˆ·è´¦å·ï¼ˆå®¢æœ/ç®¡ç†å‘˜ï¼‰ |
| conversations | å¯¹è¯è®°å½• |
| feedbacks | åé¦ˆè®°å½• |
| qa_pairs | è¯­æ–™é—®ç­”å¯¹ |

### 2.6 ä»£ç æ›´æ–°éƒ¨ç½²

```bash
# 1. åœ¨æœ¬åœ°æ‰“åŒ…ä»£ç ï¼ˆæ’é™¤ä¸å¿…è¦æ–‡ä»¶ï¼‰
cd /path/to/local/project
rsync -avz --exclude='venv/' --exclude='__pycache__/' \
  --exclude='*.db' --exclude='.git/' \
  . root@139.162.121.203:/opt/kimono-ai/

# 2. ç™»å½•æœåŠ¡å™¨
ssh root@139.162.121.203

# 3. æ›´æ–°ä¾èµ–ï¼ˆå¦‚æœ‰æ–°å¢ï¼‰
cd /opt/kimono-ai
source venv/bin/activate
pip install -r requirements.txt

# 4. è®¾ç½®æ–‡ä»¶æƒé™
chown -R www-data:www-data /opt/kimono-ai

# 5. é‡å¯æœåŠ¡
systemctl restart kimono-ai

# 6. æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status kimono-ai
```

### 2.7 ç›‘æ§ä¸å‘Šè­¦

#### 2.7.1 å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦å“åº”
curl http://127.0.0.1:8000/api/v1/system/info

# æ£€æŸ¥å¤–éƒ¨è®¿é—®
curl http://139.162.121.203:8080/
```

#### 2.7.2 èµ„æºç›‘æ§

```bash
# æŸ¥çœ‹æœåŠ¡å†…å­˜å ç”¨
ps aux | grep uvicorn

# æŸ¥çœ‹ç³»ç»Ÿèµ„æº
htop

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹æ•°æ®åº“å¤§å°
du -sh /opt/kimono-ai/data/
```

#### 2.7.3 ç®€æ˜“ç›‘æ§è„šæœ¬

```bash
#!/bin/bash
# ä¿å­˜ä¸º /opt/scripts/check_kimono.sh

SERVICE="kimono-ai"
URL="http://127.0.0.1:8000/"

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! systemctl is-active --quiet $SERVICE; then
    echo "[$(date)] Service $SERVICE is down, restarting..."
    systemctl restart $SERVICE
fi

# æ£€æŸ¥ HTTP å“åº”
HTTP_CODE=$(curl -s -o /dev/null -w "%{http_code}" $URL)
if [ "$HTTP_CODE" != "200" ]; then
    echo "[$(date)] HTTP check failed: $HTTP_CODE"
fi
```

### 2.8 æ•…éšœæ’æŸ¥

#### 2.8.1 æœåŠ¡æ— æ³•å¯åŠ¨

```bash
# 1. æŸ¥çœ‹è¯¦ç»†é”™è¯¯
journalctl -u kimono-ai -n 50 --no-pager

# 2. æ‰‹åŠ¨æµ‹è¯•å¯åŠ¨
cd /opt/kimono-ai
source venv/bin/activate
python -m uvicorn src.api.main:app --host 127.0.0.1 --port 8000

# 3. æ£€æŸ¥ç«¯å£å ç”¨
ss -tlnp | grep 8000

# 4. æ£€æŸ¥æƒé™
ls -la /opt/kimono-ai/
ls -la /var/log/kimono-ai/
```

#### 2.8.2 Nginx 502 é”™è¯¯

```bash
# æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
systemctl status kimono-ai

# æ£€æŸ¥ Nginx é…ç½®
nginx -t

# æ£€æŸ¥ Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/kimono-ai.error.log
```

#### 2.8.3 æ•°æ®åº“é”™è¯¯

```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æƒé™
ls -la /opt/kimono-ai/data/kimono_ai.db

# ä¿®å¤æƒé™
chown www-data:www-data /opt/kimono-ai/data/kimono_ai.db

# æ£€æŸ¥æ•°æ®åº“å®Œæ•´æ€§
sqlite3 /opt/kimono-ai/data/kimono_ai.db "PRAGMA integrity_check;"
```

### 2.9 å¯è§†åŒ–è¿ç»´ä¸­å¿ƒ

ç³»ç»Ÿæä¾›ç‹¬ç«‹çš„å¯è§†åŒ–è¿ç»´ä¸­å¿ƒï¼Œä¾›è¿ç»´äººå‘˜è¿›è¡Œç³»ç»Ÿç›‘æ§å’Œç®¡ç†æ“ä½œã€‚

#### 2.9.1 è®¿é—®åœ°å€

| é¡µé¢ | åœ°å€ |
|------|------|
| è¿ç»´ç™»å½• | http://139.162.121.203:8080/static/ops/login.html |
| è¿ç»´ä¸­å¿ƒ | http://139.162.121.203:8080/ops |

#### 2.9.2 ç™»å½•å‡­æ®

| å­—æ®µ | é»˜è®¤å€¼ | ç¯å¢ƒå˜é‡ |
|------|--------|---------|
| ç”¨æˆ·å | admin | OPS_USERNAME |
| å¯†ç  | kimono_ops_2024 | OPS_PASSWORD |

> **å®‰å…¨æç¤º**: ç”Ÿäº§ç¯å¢ƒè¯·é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹é»˜è®¤å‡­æ®

#### 2.9.3 åŠŸèƒ½æ¨¡å—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¿ç»´ä¸­å¿ƒé¦–é¡µ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç›‘æ§                                                        â”‚
â”‚  â”œâ”€â”€ ä»ªè¡¨ç›˜        ç³»ç»Ÿæ¦‚è§ˆã€å®æ—¶ç»Ÿè®¡ã€è¶‹åŠ¿å›¾è¡¨              â”‚
â”‚                                                              â”‚
â”‚  ç®¡ç†                                                        â”‚
â”‚  â”œâ”€â”€ å•†å®¶ç®¡ç†      å•†å®¶åˆ—è¡¨ã€çŠ¶æ€ç®¡ç†ã€ç»Ÿè®¡æŸ¥çœ‹              â”‚
â”‚  â”œâ”€â”€ é€šç”¨æ¨¡æ¿      æ¨¡æ¿ç®¡ç†ã€æ‰¹é‡åˆ†å‘                        â”‚
â”‚  â””â”€â”€ çŸ¥è¯†åº“ç®¡ç†    QAç®¡ç†ã€å¯¼å…¥å¯¼å‡ºã€åŒæ­¥æ§åˆ¶                â”‚
â”‚                                                              â”‚
â”‚  è¿ç»´                                                        â”‚
â”‚  â”œâ”€â”€ ç³»ç»Ÿæ—¥å¿—      æ“ä½œå®¡è®¡ã€æ—¥å¿—æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æ              â”‚
â”‚  â”œâ”€â”€ å‘Šè­¦ä¸­å¿ƒ      å‘Šè­¦ç›‘æ§ã€æ‰¹é‡å¤„ç†ã€å†å²æŸ¥è¯¢              â”‚
â”‚  â””â”€â”€ ç³»ç»Ÿé…ç½®      APIé…ç½®ã€è°ƒåº¦é…ç½®ã€å‘Šè­¦é…ç½®ã€å®‰å…¨é…ç½®     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.9.4 ä»ªè¡¨ç›˜

ä»ªè¡¨ç›˜æä¾›ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„å®æ—¶æ¦‚è§ˆï¼š

| æŒ‡æ ‡ | è¯´æ˜ |
|------|------|
| å•†å®¶æ€»æ•° | ç³»ç»Ÿä¸­æ³¨å†Œçš„å•†å®¶æ•°é‡ |
| æ´»è·ƒç”¨æˆ· | å½“æ—¥æ´»è·ƒçš„å®¢æœç”¨æˆ·æ•° |
| ä»Šæ—¥å¯¹è¯ | å½“æ—¥äº§ç”Ÿçš„å¯¹è¯æ•°é‡ |
| è¯­æ–™æ€»æ•° | çŸ¥è¯†åº“ä¸­çš„QAå¯¹æ•°é‡ |
| å¾…åŒæ­¥è¯­æ–™ | å°šæœªåŒæ­¥åˆ°å‘é‡åº“çš„è¯­æ–™ |
| å¾…å®¡æ ¸åé¦ˆ | éœ€è¦å®¡æ ¸çš„åé¦ˆæ•°é‡ |

è¶‹åŠ¿å›¾è¡¨ï¼š
- å¯¹è¯è¶‹åŠ¿ï¼ˆ7å¤©/30å¤©ï¼‰
- åé¦ˆè¶‹åŠ¿
- API è°ƒç”¨ç»Ÿè®¡

#### 2.9.5 çŸ¥è¯†åº“ç®¡ç†

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| QA åˆ—è¡¨ | åˆ†é¡µæŸ¥çœ‹æ‰€æœ‰é—®ç­”å¯¹ï¼Œæ”¯æŒæœç´¢ã€ç­›é€‰ |
| æ·»åŠ  QA | æ‰‹åŠ¨æ·»åŠ æ–°çš„é—®ç­”å¯¹ |
| ç¼–è¾‘ QA | ä¿®æ”¹ç°æœ‰é—®ç­”å†…å®¹ |
| åˆ é™¤ QA | åˆ é™¤ä¸éœ€è¦çš„é—®ç­”å¯¹ |
| æ‰¹é‡æ“ä½œ | æ‰¹é‡åˆ é™¤ã€æ‰¹é‡æ›´æ–°åˆ†ç±»ã€æ‰¹é‡åŒæ­¥ |
| å¯¼å…¥ | ä» CSV æ–‡ä»¶æ‰¹é‡å¯¼å…¥è¯­æ–™ |
| å¯¼å‡º | å¯¼å‡ºè¯­æ–™åˆ° CSV æ–‡ä»¶ |
| åŒæ­¥æ§åˆ¶ | æ‰‹åŠ¨è§¦å‘å‘é‡åº“åŒæ­¥ |

#### 2.9.6 å‘Šè­¦ä¸­å¿ƒ

å‘Šè­¦çº§åˆ«ï¼š

| çº§åˆ« | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| critical | çº¢è‰² | ä¸¥é‡å‘Šè­¦ï¼Œéœ€ç«‹å³å¤„ç† |
| warning | é»„è‰² | è­¦å‘Šï¼Œéœ€è¦å…³æ³¨ |
| info | è“è‰² | ä¿¡æ¯æç¤º |

å‘Šè­¦æ“ä½œï¼š
- **ç¡®è®¤**: æ ‡è®°å‘Šè­¦å·²çŸ¥æ™“
- **è§£å†³**: æ ‡è®°å‘Šè­¦å·²å¤„ç†
- **æ‰¹é‡æ“ä½œ**: æ‰¹é‡ç¡®è®¤/è§£å†³å¤šä¸ªå‘Šè­¦

#### 2.9.7 ç³»ç»Ÿé…ç½®

| é…ç½®ç±»åˆ« | è¯´æ˜ |
|----------|------|
| API é…ç½® | è¯·æ±‚è¶…æ—¶ã€å¹¶å‘é™åˆ¶ã€é‡è¯•ç­–ç•¥ |
| è°ƒåº¦é…ç½® | åé¦ˆå¤„ç†é—´éš”ã€åŒæ­¥é—´éš”ã€æ‰¹æ¬¡å¤§å° |
| å‘Šè­¦é…ç½® | é”™è¯¯ç‡é˜ˆå€¼ã€å“åº”æ—¶é—´é˜ˆå€¼ã€å‘Šè­¦å¼€å…³ |
| å®‰å…¨é…ç½® | ä¼šè¯è¶…æ—¶ã€ç™»å½•å°è¯•é™åˆ¶ã€é”å®šæ—¶é—´ |

#### 2.9.8 å®‰å…¨ç‰¹æ€§

è¿ç»´ä¸­å¿ƒå…·å¤‡ä»¥ä¸‹å®‰å…¨æœºåˆ¶ï¼š

1. **ç™»å½•ä¿æŠ¤**
   - æœ€å¤š 5 æ¬¡å¤±è´¥å°è¯•
   - è¶…è¿‡åé”å®š 15 åˆ†é’Ÿ
   - ä½¿ç”¨å¸¸æ•°æ—¶é—´æ¯”è¾ƒé˜²æ­¢æ—¶åºæ”»å‡»

2. **ä¼šè¯ç®¡ç†**
   - ä¼šè¯æœ‰æ•ˆæœŸ 1 å°æ—¶
   - è‡ªåŠ¨æ¸…ç†è¿‡æœŸä¼šè¯
   - æ”¯æŒä¸»åŠ¨ç™»å‡º

3. **è®¿é—®æ§åˆ¶**
   - æ‰€æœ‰æ“ä½œéœ€è¦è®¤è¯
   - Token é€šè¿‡ Bearer è®¤è¯
   - æ”¯æŒ Cookie å¤‡é€‰è®¤è¯

#### 2.9.9 API ç«¯ç‚¹

è¿ç»´ä¸­å¿ƒ API åŸºç¡€è·¯å¾„: `/api/v1/ops`

| æ¨¡å— | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| è®¤è¯ | POST /auth/login | ç™»å½• |
| è®¤è¯ | POST /auth/logout | ç™»å‡º |
| è®¤è¯ | GET /auth/status | ä¼šè¯çŠ¶æ€ |
| ä»ªè¡¨ç›˜ | GET /dashboard/overview | æ¦‚è§ˆæ•°æ® |
| ä»ªè¡¨ç›˜ | GET /dashboard/trends | è¶‹åŠ¿æ•°æ® |
| ç³»ç»Ÿ | GET /system/status | ç³»ç»ŸçŠ¶æ€ |
| çŸ¥è¯†åº“ | GET /knowledge/qa-pairs | QA åˆ—è¡¨ |
| çŸ¥è¯†åº“ | POST /knowledge/import | å¯¼å…¥è¯­æ–™ |
| çŸ¥è¯†åº“ | GET /knowledge/export | å¯¼å‡ºè¯­æ–™ |
| æ—¥å¿— | GET /logs/query | æŸ¥è¯¢æ—¥å¿— |
| å‘Šè­¦ | GET /alerts/active | æ´»è·ƒå‘Šè­¦ |
| é…ç½® | GET /config/{category} | è·å–é…ç½® |
| é…ç½® | PUT /config/{category} | æ›´æ–°é…ç½® |

### 2.10 VPS æ•°æ®åº“è‡ªåŠ¨åŒæ­¥ï¼ˆæœ¬åœ°å¤‡ä»½ï¼‰

ç³»ç»Ÿé…ç½®äº†è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ï¼Œæ¯ 24 å°æ—¶è‡ªåŠ¨å°† VPS æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å¤‡ä»½åˆ°æœ¬åœ° Macã€‚

#### 2.10.1 åŒæ­¥è¯´æ˜

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **åŒæ­¥æ–¹å‘** | VPS â†’ æœ¬åœ°ï¼ˆä»äº‘ç«¯ä¸‹è½½åˆ°æœ¬åœ°ï¼‰ |
| **æ‰§è¡Œé¢‘ç‡** | æ¯ 24 å°æ—¶è‡ªåŠ¨æ‰§è¡Œ |
| **å¤‡ä»½ä½ç½®** | `/Users/c.joelin/KimonoBackups/vps_sync/` |
| **æœ€æ–°å¤‡ä»½** | `latest.db`ï¼ˆè½¯é“¾æ¥ï¼ŒæŒ‡å‘æœ€æ–°å¤‡ä»½ï¼‰ |
| **æ—¥å¿—æ–‡ä»¶** | `/Users/c.joelin/KimonoBackups/sync.log` |
| **å¤‡ä»½ä¿ç•™** | æœ€è¿‘ 7 å¤© |

#### 2.10.2 å¤‡ä»½ç›®å½•ç»“æ„

```
/Users/c.joelin/KimonoBackups/
â”œâ”€â”€ sync.log                           # åŒæ­¥æ—¥å¿—
â””â”€â”€ vps_sync/                          # VPS æ•°æ®åº“å¤‡ä»½
    â”œâ”€â”€ kimono_ai_20251217_150218.db   # å¸¦æ—¶é—´æˆ³çš„å¤‡ä»½
    â”œâ”€â”€ kimono_ai_20251218_030000.db
    â””â”€â”€ latest.db -> kimono_ai_xxx.db  # æœ€æ–°å¤‡ä»½çš„è½¯é“¾æ¥
```

#### 2.10.3 æŸ¥çœ‹åŒæ­¥çŠ¶æ€

```bash
# æŸ¥çœ‹åŒæ­¥æ—¥å¿—
cat ~/KimonoBackups/sync.log

# æŸ¥çœ‹æœ€æ–°åŒæ­¥æ—¶é—´
ls -la ~/KimonoBackups/vps_sync/latest.db

# æŸ¥çœ‹æ‰€æœ‰å¤‡ä»½
ls -la ~/KimonoBackups/vps_sync/
```

#### 2.10.4 æ‰‹åŠ¨è§¦å‘åŒæ­¥

```bash
# æ‰‹åŠ¨æ‰§è¡ŒåŒæ­¥è„šæœ¬
~/sync_kimono_vps.sh
```

#### 2.10.5 åŒæ­¥æœåŠ¡ç®¡ç†

åŒæ­¥ä½¿ç”¨ macOS çš„ `launchd` æœåŠ¡ï¼Œæ— éœ€ç»ˆç«¯ä¿æŒè¿è¡Œã€‚

```bash
# æŸ¥çœ‹åŒæ­¥æœåŠ¡çŠ¶æ€
launchctl list | grep kimono

# åœæ­¢è‡ªåŠ¨åŒæ­¥
launchctl unload ~/Library/LaunchAgents/com.kimono.vps-sync.plist

# å¯åŠ¨è‡ªåŠ¨åŒæ­¥
launchctl load ~/Library/LaunchAgents/com.kimono.vps-sync.plist
```

#### 2.10.6 å°†å¤‡ä»½æ¢å¤åˆ°é¡¹ç›®ç›®å½•

å¦‚éœ€å°† VPS å¤‡ä»½çš„æ•°æ®åº“æ›´æ–°åˆ°æœ¬åœ°é¡¹ç›®ï¼š

```bash
# å¤åˆ¶æœ€æ–°å¤‡ä»½åˆ°é¡¹ç›®æ•°æ®ç›®å½•
cp ~/KimonoBackups/vps_sync/latest.db \
   "/Users/c.joelin/Desktop/kimono one/kimono one å®¢æœæ•°æ®/kimono_ai_customer_service/data/kimono_ai.db"
```

#### 2.10.7 æ³¨æ„äº‹é¡¹

1. **ç”µè„‘éœ€å¼€æœº**ï¼šè‡ªåŠ¨åŒæ­¥éœ€è¦ Mac å¤„äºå¼€æœºçŠ¶æ€ï¼ˆä¸è¦æ±‚ç»ˆç«¯è¿è¡Œï¼‰
2. **ç½‘ç»œè¿æ¥**ï¼šåŒæ­¥éœ€è¦èƒ½å¤Ÿè®¿é—® VPS æœåŠ¡å™¨
3. **ç£ç›˜ç©ºé—´**ï¼šæ¯ä¸ªå¤‡ä»½çº¦ 1.2MBï¼Œ7 å¤©çº¦éœ€ 10MB
4. **æ•°æ®å®‰å…¨**ï¼šå¤‡ä»½æ–‡ä»¶åŒ…å«æ•æ„Ÿæ•°æ®ï¼Œè¯·æ³¨æ„ä¿æŠ¤

---

## 3. ç®¡ç†ç«¯ä½¿ç”¨è¯´æ˜

### 3.1 ç™»å½•ç³»ç»Ÿ

#### 3.1.1 è®¿é—®åœ°å€

- **ç™»å½•é¡µé¢**: http://139.162.121.203:8080/static/login.html
- **å·¥ä½œå°**: http://139.162.121.203:8080/static/index.html
- **è¯­æ–™ç®¡ç†**: http://139.162.121.203:8080/static/corpus.html
- **ç”¨æˆ·ç®¡ç†**: http://139.162.121.203:8080/static/users.html

#### 3.1.2 ç®¡ç†å‘˜è´¦å·

ç®¡ç†å‘˜è´¦å·ç”±ç³»ç»Ÿåˆå§‹åŒ–æˆ–é€šè¿‡ API åˆ›å»ºã€‚ç®¡ç†å‘˜è§’è‰²ä¸º `tenant_admin`ã€‚

#### 3.1.3 ç™»å½•æ­¥éª¤

1. æ‰“å¼€ç™»å½•é¡µé¢
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»ã€Œç™»å½•ã€æŒ‰é’®
4. ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°å·¥ä½œå°

### 3.2 è¯­æ–™ç®¡ç†

ç®¡ç†å‘˜å¯ä»¥é€šè¿‡è¯­æ–™ç®¡ç†åå°è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š

#### 3.2.1 è®¿é—®è¯­æ–™ç®¡ç†

ç™»å½•åï¼Œç‚¹å‡»å·¥ä½œå°åº•éƒ¨çš„ã€Œè¯­æ–™ç®¡ç†ã€æŒ‰é’®è¿›å…¥ç®¡ç†ç•Œé¢ã€‚

#### 3.2.2 è¯­æ–™åˆ—è¡¨

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| æŸ¥çœ‹è¯­æ–™ | å±•ç¤ºæ‰€æœ‰å·²æ·»åŠ çš„é—®ç­”å¯¹ |
| æœç´¢ | æŒ‰å…³é”®è¯æœç´¢é—®é¢˜æˆ–ç­”æ¡ˆ |
| åˆ†ç±»ç­›é€‰ | æŒ‰ç±»åˆ«ï¼ˆä»·æ ¼ã€é¢„çº¦ã€å°ºå¯¸ç­‰ï¼‰ç­›é€‰ |
| åˆ†é¡µ | æ”¯æŒåˆ†é¡µæµè§ˆå¤§é‡æ•°æ® |

#### 3.2.3 æ·»åŠ è¯­æ–™

1. ç‚¹å‡»ã€Œæ·»åŠ è¯­æ–™ã€æŒ‰é’®
2. å¡«å†™é—®é¢˜å’Œç­”æ¡ˆ
3. é€‰æ‹©åˆ†ç±»
4. ç‚¹å‡»ã€Œä¿å­˜ã€

```
ç¤ºä¾‹ï¼š
é—®é¢˜ï¼šå’Œæœç§Ÿèµä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ
ç­”æ¡ˆï¼šæˆ‘ä»¬çš„å’Œæœç§Ÿèµä»·æ ¼ä» 6,000 æ—¥å…ƒèµ·ï¼ŒåŒ…å«åŸºæœ¬æ¬¾å’Œæœã€è…°å¸¦å’Œé…é¥°ã€‚
åˆ†ç±»ï¼špricingï¼ˆä»·æ ¼ï¼‰
```

#### 3.2.4 ç¼–è¾‘è¯­æ–™

1. åœ¨è¯­æ–™åˆ—è¡¨ä¸­æ‰¾åˆ°ç›®æ ‡æ¡ç›®
2. ç‚¹å‡»ã€Œç¼–è¾‘ã€æŒ‰é’®
3. ä¿®æ”¹å†…å®¹
4. ç‚¹å‡»ã€Œä¿å­˜ã€

#### 3.2.5 åˆ é™¤è¯­æ–™

1. åœ¨è¯­æ–™åˆ—è¡¨ä¸­æ‰¾åˆ°ç›®æ ‡æ¡ç›®
2. ç‚¹å‡»ã€Œåˆ é™¤ã€æŒ‰é’®
3. ç¡®è®¤åˆ é™¤

> **æ³¨æ„**: åˆ é™¤æ“ä½œä¸å¯æ¢å¤ï¼Œè¯·è°¨æ…æ“ä½œã€‚

#### 3.2.6 å¾…å®¡æ ¸é˜Ÿåˆ—

å®¢æœæäº¤çš„åé¦ˆä¼šè¿›å…¥å¾…å®¡æ ¸é˜Ÿåˆ—ï¼š

1. ç‚¹å‡»ã€Œå¾…å®¡æ ¸ã€æ ‡ç­¾
2. æŸ¥çœ‹å®¢æœæäº¤çš„çº æ­£ç­”æ¡ˆ
3. å®¡æ ¸é€šè¿‡ï¼šç‚¹å‡»ã€Œé€šè¿‡ã€ï¼Œè¯­æ–™å°†åŒæ­¥åˆ°çŸ¥è¯†åº“
4. å®¡æ ¸æ‹’ç»ï¼šç‚¹å‡»ã€Œæ‹’ç»ã€ï¼Œè¯­æ–™å°†è¢«æ ‡è®°ä¸ºå·²æ‹’ç»

#### 3.2.7 è¯­æ–™åˆ†ç±»è¯´æ˜

| åˆ†ç±»ä»£ç  | ä¸­æ–‡åç§° | è¯´æ˜ |
|---------|---------|------|
| booking | é¢„çº¦ | é¢„çº¦æµç¨‹ã€æ—¶é—´ã€å–æ¶ˆæ”¿ç­– |
| pricing | ä»·æ ¼ | ç§Ÿèµä»·æ ¼ã€å¥—é¤ã€ä»˜æ¬¾æ–¹å¼ |
| size_style | å°ºå¯¸æ¬¾å¼ | å°ºå¯¸é€‰æ‹©ã€æ¬¾å¼æ¨è |
| hair_makeup | å‘å‹å¦†å®¹ | å‘å‹ã€å¦†å®¹æœåŠ¡ |
| return_policy | å½’è¿˜æ”¿ç­– | å½’è¿˜æ—¶é—´ã€å»¶è¿Ÿè´¹ç”¨ |
| location | åœ°ç‚¹äº¤é€š | åº—é“ºåœ°å€ã€äº¤é€šæ–¹å¼ |
| photo | æ‘„å½±æœåŠ¡ | æ‹æ‘„æœåŠ¡ã€ç…§ç‰‡äº¤ä»˜ |
| general | ä¸€èˆ¬é—®é¢˜ | å’ŒæœçŸ¥è¯†ã€æ–‡åŒ–ç›¸å…³ |

### 3.3 å•†å®¶åˆå§‹åŒ–

æ–°å•†å®¶å¯ä»¥ä½¿ç”¨é€šç”¨æ¨¡æ¿è¯­æ–™å¿«é€Ÿåˆå§‹åŒ–çŸ¥è¯†åº“ã€‚

#### 3.3.1 åˆå§‹åŒ–æµç¨‹

1. ç®¡ç†å‘˜ç™»å½•ç³»ç»Ÿ
2. è°ƒç”¨åˆå§‹åŒ– API æˆ–åœ¨åå°æ“ä½œ
3. ç³»ç»Ÿå¤åˆ¶é€šç”¨æ¨¡æ¿åˆ°å•†å®¶ä¸“å±çŸ¥è¯†åº“
4. å•†å®¶å¯ä»¥å¼€å§‹ä½¿ç”¨ AI å®¢æœ

#### 3.3.2 é€šç”¨æ¨¡æ¿

ç³»ç»Ÿå†…ç½® 785 æ¡é€šç”¨é—®ç­”æ¨¡æ¿ï¼Œè¦†ç›–ï¼š
- å’ŒæœåŸºç¡€çŸ¥è¯†
- å°ºå¯¸é€‰æ‹©æŒ‡å—
- ç©¿ç€æ³¨æ„äº‹é¡¹
- æ‘„å½±æœåŠ¡è¯´æ˜

### 3.4 ç”¨æˆ·ç®¡ç†

ç®¡ç†å‘˜å¯ä»¥é€šè¿‡ç”¨æˆ·ç®¡ç†é¡µé¢å¯¹å®¢æœäººå‘˜è¿›è¡Œå…¨é¢ç®¡ç†ã€‚

#### 3.4.1 è®¿é—®ç”¨æˆ·ç®¡ç†

**æ–¹å¼ä¸€**: ç›´æ¥è®¿é—®
- åœ°å€: http://139.162.121.203:8080/static/users.html

**æ–¹å¼äºŒ**: ä»å·¥ä½œå°è¿›å…¥
1. ç™»å½•ç®¡ç†å‘˜è´¦å·
2. åœ¨å·¥ä½œå°åº•éƒ¨æ‰¾åˆ°ã€Œç”¨æˆ·ç®¡ç†ã€æŒ‰é’®
3. ç‚¹å‡»è¿›å…¥ç”¨æˆ·ç®¡ç†é¡µé¢

> **æ³¨æ„**: ä»… `tenant_admin` è§’è‰²å¯ä»¥è®¿é—®ç”¨æˆ·ç®¡ç†é¡µé¢

#### 3.4.2 ç”¨æˆ·ç®¡ç†ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›   ç”¨æˆ·ç®¡ç†                    [ç®¡ç†å‘˜åç§°] é€€å‡º          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  æ€»ç”¨æˆ·: 5     æ´»è·ƒ: 4     å·²ç¦ç”¨: 1    â˜‘ æ˜¾ç¤ºå·²ç¦ç”¨  [æ·»åŠ ç”¨æˆ·] â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·        â”‚ è§’è‰²     â”‚ çŠ¶æ€   â”‚ æœ€åç™»å½•    â”‚ åˆ›å»ºæ—¶é—´  â”‚ æ“ä½œâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŸ£ ç®¡ç†å‘˜   â”‚ ç®¡ç†å‘˜   â”‚ æ´»è·ƒ   â”‚ ä»Šå¤© 10:30  â”‚ 12/01    â”‚ âœï¸ğŸ”‘â”‚
â”‚  @admin     â”‚          â”‚        â”‚             â”‚          â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”µ å®¢æœå°ç‹ â”‚ å®¢æœ     â”‚ æ´»è·ƒ   â”‚ ä»Šå¤© 09:15  â”‚ 12/05    â”‚ âœï¸â›”ğŸ”‘â”‚
â”‚  @staff01   â”‚          â”‚        â”‚             â”‚          â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”µ å®¢æœå°æ â”‚ å®¢æœ     â”‚ å·²ç¦ç”¨ â”‚ 12/08 14:20 â”‚ 12/03    â”‚ âœï¸âœ…ğŸ”‘â”‚
â”‚  @staff02   â”‚          â”‚        â”‚             â”‚          â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å›¾æ ‡è¯´æ˜: âœï¸ç¼–è¾‘  â›”ç¦ç”¨  âœ…å¯ç”¨  ğŸ”‘é‡ç½®å¯†ç 
```

#### 3.4.3 æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨

ç”¨æˆ·åˆ—è¡¨æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š

| åˆ— | è¯´æ˜ |
|---|------|
| ç”¨æˆ· | å¤´åƒã€æ˜¾ç¤ºåç§°ã€ç”¨æˆ·å |
| è§’è‰² | ç®¡ç†å‘˜ (tenant_admin) æˆ– å®¢æœ (staff) |
| çŠ¶æ€ | æ´»è·ƒ (ç»¿è‰²) æˆ– å·²ç¦ç”¨ (ç°è‰²) |
| æœ€åç™»å½• | æœ€è¿‘ä¸€æ¬¡ç™»å½•æ—¶é—´ |
| åˆ›å»ºæ—¶é—´ | è´¦å·åˆ›å»ºæ—¥æœŸ |
| æ“ä½œ | ç¼–è¾‘ã€ç¦ç”¨/å¯ç”¨ã€é‡ç½®å¯†ç  |

**ç­›é€‰é€‰é¡¹:**
- **æ˜¾ç¤ºå·²ç¦ç”¨**: å‹¾é€‰åæ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·ï¼ˆåŒ…æ‹¬å·²ç¦ç”¨çš„ï¼‰

#### 3.4.4 æ·»åŠ æ–°ç”¨æˆ·

1. ç‚¹å‡»å³ä¸Šè§’ã€Œæ·»åŠ ç”¨æˆ·ã€æŒ‰é’®
2. å¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼š

| å­—æ®µ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| ç”¨æˆ·å | âœ… | ç™»å½•è´¦å·ï¼Œ3-50ä¸ªå­—ç¬¦ï¼Œåˆ›å»ºåä¸å¯ä¿®æ”¹ |
| æ˜¾ç¤ºåç§° | âŒ | æ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šçš„åç§°ï¼Œå¦‚ã€Œå®¢æœå°ç‹ã€ |
| å¯†ç  | âœ… | ç™»å½•å¯†ç ï¼Œè‡³å°‘6ä½ |
| è§’è‰² | âœ… | é€‰æ‹©ã€Œå®¢æœã€æˆ–ã€Œç®¡ç†å‘˜ã€ |

3. ç‚¹å‡»ã€Œæ·»åŠ ã€å®Œæˆåˆ›å»º

**ç¤ºä¾‹:**
```
ç”¨æˆ·å: staff_wang
æ˜¾ç¤ºåç§°: å®¢æœå°ç‹
å¯†ç : Wang123456
è§’è‰²: å®¢æœ
```

#### 3.4.5 ç¼–è¾‘ç”¨æˆ·

1. åœ¨ç”¨æˆ·åˆ—è¡¨ä¸­æ‰¾åˆ°ç›®æ ‡ç”¨æˆ·
2. ç‚¹å‡» âœï¸ ç¼–è¾‘æŒ‰é’®
3. å¯ä¿®æ”¹ä»¥ä¸‹ä¿¡æ¯ï¼š
   - æ˜¾ç¤ºåç§°
   - è§’è‰²ï¼ˆä¸èƒ½ä¿®æ”¹è‡ªå·±çš„è§’è‰²ï¼‰
4. ç‚¹å‡»ã€Œä¿å­˜ã€

> **æ³¨æ„**: ç”¨æˆ·ååˆ›å»ºåä¸å¯ä¿®æ”¹

#### 3.4.6 ç¦ç”¨/å¯ç”¨ç”¨æˆ·

**ç¦ç”¨ç”¨æˆ·:**
1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„ â›” ç¦ç”¨æŒ‰é’®
2. ç¡®è®¤ç¦ç”¨æ“ä½œ
3. ç”¨æˆ·çŠ¶æ€å˜ä¸ºã€Œå·²ç¦ç”¨ã€ï¼Œæ— æ³•ç™»å½•ç³»ç»Ÿ

**å¯ç”¨ç”¨æˆ·:**
1. å‹¾é€‰ã€Œæ˜¾ç¤ºå·²ç¦ç”¨ã€æŸ¥çœ‹è¢«ç¦ç”¨çš„ç”¨æˆ·
2. ç‚¹å‡»ç”¨æˆ·è¡Œçš„ âœ… å¯ç”¨æŒ‰é’®
3. ç¡®è®¤å¯ç”¨æ“ä½œ
4. ç”¨æˆ·çŠ¶æ€æ¢å¤ä¸ºã€Œæ´»è·ƒã€

> **æ³¨æ„**: ç®¡ç†å‘˜ä¸èƒ½ç¦ç”¨è‡ªå·±çš„è´¦æˆ·

#### 3.4.7 é‡ç½®å¯†ç 

1. ç‚¹å‡»ç”¨æˆ·è¡Œçš„ ğŸ”‘ é‡ç½®å¯†ç æŒ‰é’®
2. è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰
3. å†æ¬¡è¾“å…¥ç¡®è®¤å¯†ç 
4. ç‚¹å‡»ã€Œé‡ç½®ã€

é‡ç½®åéœ€è¦å°†æ–°å¯†ç å‘ŠçŸ¥ç”¨æˆ·ï¼Œå»ºè®®ç”¨æˆ·é¦–æ¬¡ç™»å½•åè‡ªè¡Œä¿®æ”¹ã€‚

#### 3.4.8 è´¦å·è§’è‰²è¯´æ˜

| è§’è‰² | ä»£ç  | æƒé™èŒƒå›´ |
|------|------|---------|
| ç®¡ç†å‘˜ | tenant_admin | æ‰€æœ‰åŠŸèƒ½ï¼šç”¨æˆ·ç®¡ç†ã€è¯­æ–™ç®¡ç†ã€å®¡æ ¸é˜Ÿåˆ—ã€å®¢æœå·¥ä½œå° |
| å®¢æœ | staff | å®¢æœå·¥ä½œå°ã€æäº¤åé¦ˆ |

#### 3.4.9 æœ€ä½³å®è·µ

1. **è´¦å·å‘½åè§„èŒƒ**
   - ç”¨æˆ·åå»ºè®®ä½¿ç”¨è‹±æ–‡+æ•°å­—ï¼Œå¦‚ `staff_01`, `cs_wang`
   - æ˜¾ç¤ºåç§°ä½¿ç”¨ä¸­æ–‡ä¾¿äºè¯†åˆ«ï¼Œå¦‚ã€Œå®¢æœå°ç‹ã€

2. **å¯†ç å®‰å…¨**
   - åˆå§‹å¯†ç åº”è¶³å¤Ÿå¤æ‚
   - å»ºè®®ç”¨æˆ·é¦–æ¬¡ç™»å½•åä¿®æ”¹å¯†ç 
   - å®šæœŸæ£€æŸ¥é•¿æœŸæœªç™»å½•çš„è´¦å·

3. **æƒé™æ§åˆ¶**
   - ç®¡ç†å‘˜è´¦å·æ•°é‡åº”æ§åˆ¶åœ¨å¿…è¦èŒƒå›´å†…
   - ç¦»èŒå‘˜å·¥åº”åŠæ—¶ç¦ç”¨è´¦å·

4. **æ—¥å¸¸ç®¡ç†**
   - å®šæœŸæŸ¥çœ‹ã€Œæœ€åç™»å½•ã€æ—¶é—´
   - é•¿æœŸæœªç™»å½•çš„è´¦å·è€ƒè™‘ç¦ç”¨

### 3.5 ç»Ÿè®¡æŠ¥è¡¨

#### 3.5.1 è¯­æ–™ç»Ÿè®¡

åœ¨è¯­æ–™ç®¡ç†é¡µé¢å¯ä»¥æŸ¥çœ‹ï¼š
- è¯­æ–™æ€»æ•°
- å„åˆ†ç±»è¯­æ–™æ•°é‡
- å¾…å®¡æ ¸æ•°é‡

#### 3.5.2 åé¦ˆç»Ÿè®¡

é€šè¿‡ API å¯ä»¥è·å–åé¦ˆç»Ÿè®¡ï¼š
- æ­£åé¦ˆç‡
- è´Ÿåé¦ˆç‡
- çº æ­£ç­”æ¡ˆæ•°é‡

---

## 4. å®¢æœäººå‘˜ç«¯ä½¿ç”¨è¯´æ˜

### 4.1 ç™»å½•ç³»ç»Ÿ

#### 4.1.1 ç™»å½•æ­¥éª¤

1. æ‰“å¼€ç™»å½•é¡µé¢: http://139.162.121.203:8080/static/login.html
2. è¾“å…¥å®¢æœè´¦å·å’Œå¯†ç 
3. ç‚¹å‡»ã€Œç™»å½•ã€æŒ‰é’®
4. æˆåŠŸåè·³è½¬åˆ°å·¥ä½œå°

#### 4.1.2 é¦–æ¬¡ç™»å½•

é¦–æ¬¡ç™»å½•æ—¶ï¼Œè¯·ç¡®è®¤ï¼š
- å·²ä»ç®¡ç†å‘˜å¤„è·å–è´¦å·å¯†ç 
- è´¦å·çŠ¶æ€ä¸ºæ¿€æ´»çŠ¶æ€

### 4.2 å®¢æœå·¥ä½œå°

#### 4.2.1 ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kimono AI å®¢æœåŠ©æ‰‹              [å•†å®¶åç§°] [å®¢æœå§“å] é€€å‡º  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   å¯¹è¯åŒºåŸŸ                           â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  ç”¨æˆ·: è¯·é—®å’Œæœç§Ÿèµä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ                       â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  AI: æˆ‘ä»¬çš„å’Œæœç§Ÿèµä»·æ ¼ä» 6,000 æ—¥å…ƒèµ·...            â”‚   â”‚
â”‚  â”‚      [æ¥æº: 3æ¡] [ç½®ä¿¡åº¦: 85%] [æ¨¡å‹: qwen-plus]     â”‚   â”‚
â”‚  â”‚      [ğŸ‘ é‡‡çº³] [ğŸ‘ ä¸å¥½] [âœï¸ ç¼–è¾‘åé‡‡çº³]              â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ è¾“å…¥å®¢æˆ·é—®é¢˜...                           [å‘é€]     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  [æ–°å¯¹è¯] [å¿«æ·é—®é¢˜] [å†å²è®°å½•] [è¯­æ–™ç®¡ç†*]                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
* ä»…ç®¡ç†å‘˜å¯è§
```

### 4.3 åŸºæœ¬æ“ä½œ

#### 4.3.1 å‘é€é—®é¢˜

1. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å®¢æˆ·çš„é—®é¢˜
2. æŒ‰ `Enter` é”®æˆ–ç‚¹å‡»ã€Œå‘é€ã€æŒ‰é’®
3. ç­‰å¾… AI ç”Ÿæˆå›ç­”

**å¿«æ·é”®:**
- `Enter`: å‘é€æ¶ˆæ¯
- `Shift + Enter`: æ¢è¡Œ

#### 4.3.2 æŸ¥çœ‹ AI å›ç­”

AI å›ç­”åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š
- **å›ç­”å†…å®¹**: AI ç”Ÿæˆçš„å›å¤
- **æ¥æº**: åŒ¹é…åˆ°çš„çŸ¥è¯†åº“æ¡ç›®æ•°
- **ç½®ä¿¡åº¦**: AI å›ç­”çš„å¯ä¿¡ç¨‹åº¦
- **æ¨¡å‹**: ä½¿ç”¨çš„ AI æ¨¡å‹

#### 4.3.3 æ–°å»ºå¯¹è¯

ç‚¹å‡»ã€Œæ–°å¯¹è¯ã€æŒ‰é’®å¼€å§‹æ–°çš„å¯¹è¯ä¼šè¯ï¼Œå½“å‰å¯¹è¯ä¼šè‡ªåŠ¨ä¿å­˜åˆ°å†å²è®°å½•ã€‚

#### 4.3.4 å¿«æ·é—®é¢˜

ç‚¹å‡»ã€Œå¿«æ·é—®é¢˜ã€å±•å¼€å¸¸ç”¨æµ‹è¯•é—®é¢˜åˆ—è¡¨ï¼š
- å’Œæœã®ãƒ¬ãƒ³ã‚¿ãƒ«æ–™é‡‘ã¯ï¼Ÿ
- å¦‚ä½•ç§Ÿå€Ÿå’Œæœï¼Ÿ
- What sizes are available?

### 4.4 åé¦ˆæ“ä½œ

åé¦ˆæ˜¯æ”¹è¿› AI å›ç­”è´¨é‡çš„é‡è¦æ‰‹æ®µï¼Œè¯·ç§¯ææä¾›åé¦ˆã€‚

#### 4.4.1 æ­£å‘åé¦ˆ (é‡‡çº³)

å½“ AI å›ç­”**å‡†ç¡®ã€æœ‰å¸®åŠ©**æ—¶ï¼š

1. ç‚¹å‡» ğŸ‘ã€Œé‡‡çº³ã€æŒ‰é’®
2. ç³»ç»Ÿè®°å½•æ­£å‘åé¦ˆ
3. è¯¥é—®ç­”å¯¹è´¨é‡åˆ†æ•°æå‡

#### 4.4.2 è´Ÿå‘åé¦ˆ (ä¸å¥½)

å½“ AI å›ç­”**ä¸å‡†ç¡®æˆ–æ— å¸®åŠ©**æ—¶ï¼š

1. ç‚¹å‡» ğŸ‘ã€Œä¸å¥½ã€æŒ‰é’®
2. ç³»ç»Ÿè®°å½•è´Ÿå‘åé¦ˆ
3. è¯¥é—®ç­”å¯¹å°†è¢«æ ‡è®°å¾…ä¼˜åŒ–

#### 4.4.3 ç¼–è¾‘åé‡‡çº³

å½“ AI å›ç­”**éƒ¨åˆ†æ­£ç¡®éœ€è¦ä¿®æ”¹**æ—¶ï¼š

1. ç‚¹å‡» âœï¸ã€Œç¼–è¾‘åé‡‡çº³ã€æŒ‰é’®
2. åœ¨å¼¹å‡ºçš„ç¼–è¾‘æ¡†ä¸­ä¿®æ”¹ç­”æ¡ˆ
3. ç‚¹å‡»ã€Œæäº¤ã€
4. ä¿®æ”¹åçš„ç­”æ¡ˆè¿›å…¥å®¡æ ¸é˜Ÿåˆ—

**ç¤ºä¾‹åœºæ™¯:**
```
ç”¨æˆ·é—®é¢˜: ä½ ä»¬å‡ ç‚¹å¼€é—¨ï¼Ÿ
AI å›ç­”: æˆ‘ä»¬çš„è¥ä¸šæ—¶é—´æ˜¯æ—©ä¸Š 9 ç‚¹åˆ°æ™šä¸Š 6 ç‚¹ã€‚
å®é™…æƒ…å†µ: åº—é“ºå·²è°ƒæ•´ä¸º 10 ç‚¹å¼€é—¨

æ“ä½œ:
1. ç‚¹å‡»ã€Œç¼–è¾‘åé‡‡çº³ã€
2. ä¿®æ”¹ä¸º: æˆ‘ä»¬çš„è¥ä¸šæ—¶é—´æ˜¯æ—©ä¸Š 10 ç‚¹åˆ°æ™šä¸Š 6 ç‚¹ã€‚
3. æäº¤åé¦ˆ
```

### 4.5 å†å²è®°å½•

#### 4.5.1 æŸ¥çœ‹å†å²

1. ç‚¹å‡»ã€Œå†å²è®°å½•ã€æŒ‰é’®å±•å¼€å†å²é¢æ¿
2. æŸ¥çœ‹ä¹‹å‰çš„å¯¹è¯åˆ—è¡¨
3. ç‚¹å‡»ä»»æ„å†å²å¯¹è¯å¯ä»¥ç»§ç»­è¯¥ä¼šè¯

#### 4.5.2 å†å²è®°å½•ä¿¡æ¯

æ¯æ¡å†å²è®°å½•æ˜¾ç¤ºï¼š
- å¯¹è¯æ ‡é¢˜ï¼ˆç¬¬ä¸€æ¡ç”¨æˆ·æ¶ˆæ¯ï¼‰
- æ›´æ–°æ—¶é—´
- æ¶ˆæ¯æ•°é‡

#### 4.5.3 åˆ é™¤å†å²

1. å°†é¼ æ ‡æ‚¬åœåœ¨å†å²è®°å½•ä¸Š
2. ç‚¹å‡»åˆ é™¤å›¾æ ‡
3. ç¡®è®¤åˆ é™¤

#### 4.5.4 æ¸…ç©ºæ‰€æœ‰å†å²

ç‚¹å‡»ã€Œæ¸…ç©ºå…¨éƒ¨ã€æŒ‰é’®å¯ä»¥åˆ é™¤æ‰€æœ‰å†å²è®°å½•ã€‚

> **æ³¨æ„**: å†å²è®°å½•å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œæ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šå¯¼è‡´å†å²ä¸¢å¤±ã€‚

### 4.6 å¤šè¯­è¨€æ”¯æŒ

ç³»ç»Ÿæ”¯æŒä¸‰ç§è¯­è¨€çš„é—®ç­”ï¼š

| è¯­è¨€ | ç¤ºä¾‹é—®é¢˜ |
|------|---------|
| æ—¥è¯­ | ç€ç‰©ã®ãƒ¬ãƒ³ã‚¿ãƒ«æ–™é‡‘ã‚’æ•™ãˆã¦ãã ã•ã„ |
| ä¸­æ–‡ | è¯·é—®å’Œæœç§Ÿèµå¤šå°‘é’±ï¼Ÿ |
| è‹±è¯­ | How much does it cost to rent a kimono? |

AI ä¼šè‡ªåŠ¨æ£€æµ‹é—®é¢˜è¯­è¨€ï¼Œå¹¶ç”¨ç›¸åŒè¯­è¨€å›ç­”ã€‚

### 4.7 ä½¿ç”¨æŠ€å·§

#### 4.7.1 æé«˜å›ç­”å‡†ç¡®æ€§

1. **é—®é¢˜è¦å…·ä½“**: é¿å…è¿‡äºç¬¼ç»Ÿçš„é—®é¢˜
   - âŒ "ä»·æ ¼ï¼Ÿ"
   - âœ… "æ ‡å‡†å’Œæœå¥—é¤çš„ç§Ÿèµä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ"

2. **ä¸€æ¬¡é—®ä¸€ä¸ªé—®é¢˜**: å¤æ‚é—®é¢˜åˆ†å¼€é—®
   - âŒ "ä»·æ ¼å¤šå°‘ï¼Ÿæ€ä¹ˆé¢„çº¦ï¼Ÿåœ¨å“ªé‡Œå–ï¼Ÿ"
   - âœ… åˆ†ä¸‰æ¬¡åˆ†åˆ«æé—®

3. **ä½¿ç”¨å®¢æˆ·åŸè¯**: å°½é‡ä½¿ç”¨å®¢æˆ·çš„åŸå§‹è¡¨è¿°

#### 4.7.2 é«˜æ•ˆå·¥ä½œæµç¨‹

1. å¤åˆ¶å®¢æˆ·é—®é¢˜åˆ°è¾“å…¥æ¡†
2. å‘é€å¹¶ç­‰å¾… AI å›ç­”
3. åˆ¤æ–­å›ç­”è´¨é‡ï¼š
   - æ­£ç¡® â†’ ç›´æ¥å¤åˆ¶å‘ç»™å®¢æˆ·
   - åŸºæœ¬æ­£ç¡® â†’ ç¨ä½œä¿®æ”¹åå‘é€
   - é”™è¯¯ â†’ æ‰‹åŠ¨å›ç­”å¹¶æäº¤çº æ­£åé¦ˆ
4. ç»™å‡ºåé¦ˆï¼ˆé‡‡çº³/ä¸å¥½/ç¼–è¾‘ï¼‰

#### 4.7.3 å¸¸è§é—®é¢˜å¤„ç†

| æƒ…å†µ | å»ºè®®æ“ä½œ |
|------|---------|
| AI å›ç­”è¿‡é•¿ | æå–å…³é”®ä¿¡æ¯å‘é€ç»™å®¢æˆ· |
| AI å›ç­”é”™è¯¯ | æ‰‹åŠ¨å›å¤å¹¶æäº¤çº æ­£ |
| AI æ— æ³•å›ç­” | æŸ¥çœ‹çŸ¥è¯†åº“æˆ–å’¨è¯¢ç®¡ç†å‘˜ |
| å›ç­”ç½®ä¿¡åº¦ä½ | äººå·¥ç¡®è®¤åå†å‘é€ |

### 4.8 ç§»åŠ¨ç«¯ä½¿ç”¨

ç³»ç»Ÿæ”¯æŒç§»åŠ¨ç«¯è®¿é—®ï¼Œç•Œé¢ä¼šè‡ªåŠ¨é€‚é…ï¼š

- æŒ‰é’®æ–‡å­—åœ¨å°å±å¹•ä¸Šéšè—ï¼Œä»…æ˜¾ç¤ºå›¾æ ‡
- ä¼šè¯ ID åœ¨æå°å±å¹•ä¸Šéšè—
- å¯¹è¯åŒºåŸŸé«˜åº¦è‡ªåŠ¨è°ƒæ•´

---

## 5. API æ¥å£æ–‡æ¡£

### 5.1 è®¤è¯æ¥å£

#### 5.1.1 ç”¨æˆ·ç™»å½•

```http
POST /api/v1/auth/login
Content-Type: application/x-www-form-urlencoded

username=staff01&password=password123
```

**å“åº”:**
```json
{
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "token_type": "bearer"
}
```

#### 5.1.2 è·å–å½“å‰ç”¨æˆ·

```http
GET /api/v1/auth/me
Authorization: Bearer <access_token>
```

**å“åº”:**
```json
{
    "id": "user_001",
    "username": "staff01",
    "display_name": "å®¢æœå°ç‹",
    "role": "staff",
    "tenant_id": "tenant_001"
}
```

#### 5.1.3 è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰

```http
GET /api/v1/auth/users?include_inactive=true
Authorization: Bearer <access_token>
```

**å‚æ•°:**
| å‚æ•° | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| include_inactive | boolean | æ˜¯å¦åŒ…å«å·²ç¦ç”¨ç”¨æˆ·ï¼Œé»˜è®¤ false |

**å“åº”:**
```json
[
    {
        "id": "user_001",
        "tenant_id": "tenant_001",
        "username": "admin",
        "display_name": "ç®¡ç†å‘˜",
        "role": "tenant_admin",
        "is_active": true,
        "created_at": "2024-12-01T10:00:00Z",
        "last_login": "2024-12-10T09:30:00Z"
    },
    {
        "id": "user_002",
        "tenant_id": "tenant_001",
        "username": "staff01",
        "display_name": "å®¢æœå°ç‹",
        "role": "staff",
        "is_active": true,
        "created_at": "2024-12-05T14:00:00Z",
        "last_login": "2024-12-10T08:15:00Z"
    }
]
```

#### 5.1.4 åˆ›å»ºç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

```http
POST /api/v1/auth/register/user
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "username": "staff_wang",
    "password": "password123",
    "display_name": "å®¢æœå°ç‹",
    "role": "staff"
}
```

**è¯·æ±‚å‚æ•°:**
| å­—æ®µ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| username | âœ… | ç”¨æˆ·åï¼Œ3-50å­—ç¬¦ |
| password | âœ… | å¯†ç ï¼Œè‡³å°‘6ä½ |
| display_name | âŒ | æ˜¾ç¤ºåç§° |
| role | âœ… | è§’è‰²ï¼šstaff æˆ– tenant_admin |

**å“åº”:**
```json
{
    "id": "user_003",
    "tenant_id": "tenant_001",
    "username": "staff_wang",
    "display_name": "å®¢æœå°ç‹",
    "role": "staff",
    "is_active": true,
    "created_at": "2024-12-10T10:00:00Z",
    "last_login": null
}
```

#### 5.1.5 æ›´æ–°ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

```http
PATCH /api/v1/auth/users/{user_id}
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "display_name": "å®¢æœå°æ",
    "role": "staff",
    "is_active": false
}
```

**è¯·æ±‚å‚æ•°ï¼ˆå‡ä¸ºå¯é€‰ï¼‰:**
| å­—æ®µ | è¯´æ˜ |
|------|------|
| display_name | æ–°çš„æ˜¾ç¤ºåç§° |
| password | æ–°å¯†ç ï¼ˆç”¨äºé‡ç½®å¯†ç ï¼‰ |
| role | æ–°è§’è‰² |
| is_active | å¯ç”¨/ç¦ç”¨çŠ¶æ€ |

**å“åº”:**
```json
{
    "id": "user_002",
    "tenant_id": "tenant_001",
    "username": "staff01",
    "display_name": "å®¢æœå°æ",
    "role": "staff",
    "is_active": false,
    "created_at": "2024-12-05T14:00:00Z",
    "last_login": "2024-12-10T08:15:00Z"
}
```

#### 5.1.6 åˆ é™¤ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

è½¯åˆ é™¤ç”¨æˆ·ï¼ˆå°† is_active è®¾ä¸º falseï¼‰

```http
DELETE /api/v1/auth/users/{user_id}
Authorization: Bearer <access_token>
```

**å“åº”:** 204 No Content

### 5.2 å¯¹è¯æ¥å£

#### 5.2.1 å‘é€æ¶ˆæ¯

```http
POST /api/v1/chat
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "message": "å’Œæœç§Ÿèµä»·æ ¼æ˜¯å¤šå°‘ï¼Ÿ",
    "conversation_id": "conv_001"  // å¯é€‰
}
```

**å“åº”:**
```json
{
    "message_id": "msg_001",
    "conversation_id": "conv_001",
    "response": "æˆ‘ä»¬çš„å’Œæœç§Ÿèµä»·æ ¼ä» 6,000 æ—¥å…ƒèµ·...",
    "sources": [
        {
            "question": "å’Œæœã®ãƒ¬ãƒ³ã‚¿ãƒ«æ–™é‡‘",
            "answer": "...",
            "score": 0.92
        }
    ],
    "meta": {
        "model_used": "qwen-plus",
        "confidence": 0.85,
        "latency_ms": 1200,
        "language": "zh"
    }
}
```

### 5.3 åé¦ˆæ¥å£

#### 5.3.1 æäº¤åé¦ˆ

```http
POST /api/v1/feedback/submit
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "conversation_id": "conv_001",
    "message_id": "msg_001",
    "rating": 5,
    "feedback_type": "positive",
    "corrected_answer": null,
    "comment": "å›ç­”å‡†ç¡®"
}
```

#### 5.3.2 è·å–å¾…å®¡æ ¸åˆ—è¡¨

```http
GET /api/v1/feedback/pending?limit=20&offset=0
Authorization: Bearer <access_token>
```

#### 5.3.3 å®¡æ ¸é€šè¿‡

```http
POST /api/v1/feedback/{feedback_id}/approve
Authorization: Bearer <access_token>
```

### 5.4 è¯­æ–™æ¥å£

#### 5.4.1 è·å–è¯­æ–™åˆ—è¡¨

```http
GET /api/v1/learning/qa-pairs?limit=20&category=pricing
Authorization: Bearer <access_token>
```

#### 5.4.2 åˆ›å»ºè¯­æ–™

```http
POST /api/v1/learning/qa-pairs
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "question": "é¢„çº¦éœ€è¦æå‰å¤šä¹…ï¼Ÿ",
    "answer": "å»ºè®®æå‰ 3-7 å¤©é¢„çº¦ï¼Œæ—ºå­£è¯·æå‰ 2 å‘¨ã€‚",
    "category": "booking"
}
```

#### 5.4.3 æ›´æ–°è¯­æ–™

```http
PUT /api/v1/learning/qa-pairs/{qa_id}
Authorization: Bearer <access_token>
Content-Type: application/json

{
    "answer": "å»ºè®®æå‰ 5-7 å¤©é¢„çº¦ï¼Œæ—ºå­£è¯·æå‰ 2 å‘¨ã€‚"
}
```

### 5.5 ç³»ç»Ÿæ¥å£

#### 5.5.1 ç³»ç»Ÿä¿¡æ¯

```http
GET /api/v1/system/info
```

**å“åº”:**
```json
{
    "name": "Kimono AI Customer Service",
    "version": "1.0.0",
    "status": "healthy"
}
```

---

## 6. å¸¸è§é—®é¢˜

### 6.1 ç™»å½•é—®é¢˜

**Q: å¿˜è®°å¯†ç æ€ä¹ˆåŠï¼Ÿ**
A: è¯·è”ç³»ç®¡ç†å‘˜é‡ç½®å¯†ç ã€‚

**Q: ç™»å½•åè‡ªåŠ¨é€€å‡ºï¼Ÿ**
A: Token æœ‰æ•ˆæœŸä¸º 24 å°æ—¶ï¼Œè¿‡æœŸåéœ€é‡æ–°ç™»å½•ã€‚æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨äº† Cookieã€‚

### 6.2 å¯¹è¯é—®é¢˜

**Q: AI å›ç­”å¾ˆæ…¢ï¼Ÿ**
A: é¦–æ¬¡æŸ¥è¯¢å¯èƒ½éœ€è¦ 2-3 ç§’ï¼Œåç»­æŸ¥è¯¢ä¼šæ›´å¿«ã€‚å¦‚æœæŒç»­å¾ˆæ…¢ï¼Œè¯·è”ç³»è¿ç»´æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€ã€‚

**Q: AI å›ç­”ä¸å‡†ç¡®ï¼Ÿ**
A: è¯·ç‚¹å‡»ã€Œä¸å¥½ã€æˆ–ã€Œç¼–è¾‘åé‡‡çº³ã€æäº¤åé¦ˆï¼Œå¸®åŠ©ç³»ç»Ÿæ”¹è¿›ã€‚

**Q: æ— æ³•å‘é€æ¶ˆæ¯ï¼Ÿ**
A: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œå°è¯•åˆ·æ–°é¡µé¢ã€‚å¦‚é—®é¢˜æŒç»­ï¼Œè”ç³»è¿ç»´ã€‚

### 6.3 è¯­æ–™ç®¡ç†é—®é¢˜

**Q: æ–°å¢è¯­æ–™å AI æ²¡æœ‰ä½¿ç”¨ï¼Ÿ**
A: æ–°å¢è¯­æ–™éœ€è¦åŒæ­¥åˆ°å‘é‡æ•°æ®åº“ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿç”Ÿæ•ˆã€‚

**Q: å¦‚ä½•æ‰¹é‡å¯¼å…¥è¯­æ–™ï¼Ÿ**
A: ç›®å‰éœ€è¦é€šè¿‡ API æ‰¹é‡å¯¼å…¥ï¼Œè”ç³»æŠ€æœ¯äººå‘˜ååŠ©ã€‚

### 6.4 ç³»ç»Ÿé—®é¢˜

**Q: é¡µé¢æ‰“ä¸å¼€ï¼Ÿ**
A:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç¡®è®¤æœåŠ¡å™¨ IP å’Œç«¯å£æ­£ç¡®
3. è”ç³»è¿ç»´æ£€æŸ¥æœåŠ¡çŠ¶æ€

**Q: é¡µé¢æ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ**
A:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. å°è¯•ä½¿ç”¨éšèº«æ¨¡å¼
3. ä½¿ç”¨ Chrome/Firefox æµè§ˆå™¨

---

## é™„å½•

### A. å¿«æ·é”®åˆ—è¡¨

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| Enter | å‘é€æ¶ˆæ¯ |
| Shift + Enter | æ¶ˆæ¯æ¢è¡Œ |

### B. æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | æœ€ä½ç‰ˆæœ¬ | æ¨è |
|--------|---------|------|
| Chrome | 80+ | âœ… |
| Firefox | 75+ | âœ… |
| Safari | 13+ | âœ… |
| Edge | 80+ | âœ… |
| IE | - | âŒ ä¸æ”¯æŒ |

### C. è”ç³»æ–¹å¼

- **æŠ€æœ¯æ”¯æŒ**: è”ç³»ç³»ç»Ÿç®¡ç†å‘˜
- **è¿ç»´æ”¯æŒ**: è”ç³»è¿ç»´å›¢é˜Ÿ

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.3*
*æœ€åæ›´æ–°: 2024-12*

### æ›´æ–°è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| 1.3 | 2024-12 | æ–°å¢å¯è§†åŒ–è¿ç»´ä¸­å¿ƒï¼šä»ªè¡¨ç›˜ã€å•†å®¶ç®¡ç†ã€çŸ¥è¯†åº“ç®¡ç†ã€æ—¥å¿—å®¡è®¡ã€å‘Šè­¦ä¸­å¿ƒã€ç³»ç»Ÿé…ç½® |
| 1.2 | 2024-12 | æ–°å¢ VPS è¯¦ç»†ä¿¡æ¯ï¼šSSH å¯†ç ã€æœåŠ¡å•†ã€å®ä¾‹ IDã€è¿æ¥å‘½ä»¤ |
| 1.1 | 2024-12 | æ–°å¢ç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼šç”¨æˆ·åˆ—è¡¨ã€æ·»åŠ ç”¨æˆ·ã€ç¼–è¾‘ç”¨æˆ·ã€ç¦ç”¨/å¯ç”¨ã€é‡ç½®å¯†ç  |
| 1.0 | 2024-12 | åˆå§‹ç‰ˆæœ¬ |
