# 首页卡片布局分析报告

## 当前布局结构

```
┌──────────────────────────────────────────────────────────────┐
│  Theme Section (每个主题一个)                                  │
├─────────────────────┬────────────────────────────────────────┤
│                     │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐       │
│   FeaturedPlanCard  │  │ 普通 │ │ 普通 │ │ 普通 │ │ 普通 │ ←→ │
│   (精选大卡片)       │  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │    │
│   480-520px 宽      │  ├─────┤ ├─────┤ ├─────┤ ├─────┤       │
│   560px 高          │  │ 普通 │ │ 普通 │ │ 普通 │ │ 普通 │       │
│                     │  │ 卡片 │ │ 卡片 │ │ 卡片 │ │ 卡片 │       │
│                     │  └─────┘ └─────┘ └─────┘ └─────┘       │
│                     │          两行网格横向滚动                 │
└─────────────────────┴────────────────────────────────────────┘
```

## 涉及的组件文件

- `src/app/(main)/HomeClient.tsx` - 首页客户端组件
- `src/components/PlanCard/FeaturedPlanCard.tsx` - 精选大卡片
- `src/components/PlanCard/index.tsx` - 普通卡片
- `src/components/ScrollableSection.tsx` - 横向滚动容器
- `src/components/ui/Card.tsx` - 基础卡片组件（未被使用）

---

## 可改进的地方

### 1. 图片比例不一致 (高优先级)

| 组件 | 当前比例 | 问题 |
|------|----------|------|
| FeaturedPlanCard | 4:3 横版 | 和服是竖版服装 |
| PlanCard | 1:1 正方形 | 会裁切重要内容 |

**建议**: 统一使用 3:4 竖版比例，更适合和服展示

### 2. 卡片高度不统一 (中优先级)

- FeaturedPlanCard: 固定 `lg:h-[560px]`
- PlanCard: 高度自适应，受内容影响
- 两行网格中上下卡片高度不同会导致错位

**建议**: 给 PlanCard 设置固定高度或使用 `h-full`

### 3. 硬编码假数据 (高优先级)

```tsx
// FeaturedPlanCard.tsx:344
<span className="font-bold">4.8</span>
<span className="text-gray-400">(128评价)</span>

// PlanCard/index.tsx:382
<span className="font-medium">4.8</span>
<span className="text-gray-400">(128)</span>
```

评分和评价数是假数据，应从数据库获取或暂时隐藏

### 4. 移动端响应式问题 (中优先级)

```tsx
// HomeClient.tsx:541
className="snap-start flex-shrink-0 w-[75vw] max-w-[280px]"
```

- 移动端卡片宽度 75vw 约 282px（iPhone 14），可能过宽
- FeaturedPlanCard 在移动端信息量太大

### 5. 信息层次差异

| 信息项 | FeaturedPlanCard | PlanCard |
|--------|------------------|----------|
| 商家名称 | ✅ | ✅ (可选) |
| 套餐描述 | ✅ 3行 | ❌ |
| 包含服务 | ✅ 5项 pill | ✅ 2项 文字 |
| 标签 | ✅ 5个 | ✅ 3个 |
| 时长 | ✅ | ❌ |
| 地区 | ✅ | ❌ |

**问题**: 普通卡片缺少时长、地区等关键决策信息

### 6. 性能优化空间

```tsx
// 每个卡片都独立渲染 TryOnModal
<TryOnModal isOpen={showTryOnModal} ... />
```

**建议**: 将 Modal 提升到父组件，通过 Context 控制

### 7. 设计细节不统一

| 元素 | FeaturedPlanCard | PlanCard |
|------|------------------|----------|
| 分隔线宽度 | 32px | 24px |
| 购物车按钮 | p-3 + w-6 h-6 | p-2 + w-5 h-5 |
| 试穿按钮 | p-2.5 + w-5 h-5 | p-2 + w-5 h-5 |

### 8. Grid 布局问题

```tsx
// ScrollableSection.tsx:249
lg:!grid lg:!grid-rows-2 lg:!grid-flow-col lg:!gap-4
style={{ gridAutoColumns: '280px' }}
```

- 两行网格固定列宽 280px
- 卡片内容高度不同导致行间距不均匀

### 9. 缺少加载状态

卡片没有 skeleton loading 状态，图片加载时体验不佳

---

## 改进建议优先级

| 优先级 | 改进项 | 影响 |
|--------|--------|------|
| 🔴 高 | 统一图片比例为 3:4 | 视觉一致性，和服展示效果 |
| 🔴 高 | 移除/替换硬编码评分数据 | 数据真实性 |
| 🟡 中 | 统一卡片高度 | 网格布局整齐 |
| 🟡 中 | 给普通卡片添加时长/地区 | 用户决策信息 |
| 🟡 中 | 优化移动端卡片信息密度 | 移动端体验 |
| 🟢 低 | 提取 Modal 到父组件 | 性能优化 |
| 🟢 低 | 统一按钮/分隔线尺寸 | 设计规范 |
| 🟢 低 | 添加骨架屏加载 | 加载体验 |

---

## 讨论问题

1. 图片比例：3:4 竖版 vs 4:3 横版 vs 1:1 正方形，哪个更适合和服租赁场景？
2. 卡片信息密度：普通卡片是否需要显示更多信息（时长、地区）？
3. 两行网格 vs 单行滚动：哪种布局更适合浏览体验？
4. 大卡片（FeaturedPlanCard）的必要性：是否真的能提高转化？
